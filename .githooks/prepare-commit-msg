#!/bin/sh
COMMIT_TMP_FILE_NAME=$1
COMMIT_MSG=$(cat $COMMIT_TMP_FILE_NAME)
ERROR_MSG="Commit message format must match regex \"${REGEX}\""
REGEX="^Version [0-9]*\.[0-9]*(\.[0-9]*)?: .*"
if [[ ! $COMMIT_MSG =~ $REGEX ]]; then
 echo "Bad commit \"$COMMIT_MSG\", must be like \"Version x.x: <message>\"."
 exit 1
fi